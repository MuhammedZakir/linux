on: push
jobs:
  name_or-jobid-no_spaces:
    runs-on: ubuntu-latest
    steps:
      - name: pwd meh.
        run: |
          echo meh.
          pwd
          ls -la
      - name: branch event tag
        run: |
          echo "ref: ${{ github.ref }}"
          echo "base_ref: ${{ github.base_ref }}"
          echo "head_ref: ${{ github.head_ref }}"
          echo "event: ${{ github.event }}"
          echo "event_name: ${{ github.event_name }}"
          echo "event.action: ${{ github.event.action }}"
          echo "..."
      - uses: actions/checkout@v2.3.4
        with:
          fetch-depth: 0
      - name: grub da brunch frum ckott
        run: |
          SHA="${{ github.sha }}"
          REF="${{ github.ref }}"

          echo ">>> git branch --contains $SHA"
          git branch --contains $SHA --format "%(refname)" | cat

          echo ">>> git branch --contains $REF"
          git branch --contains $REF --format "%(refname)" | cat

          echo ">>> git branch --remotes --contains $REF"
          git branch --contains $REF --format "%(refname)" | cat

          # reflog shows only first 7 SHA chars
          SHA7="${SHA::7}"
          echo ">>> git reflog show --all | grep $SHA7"
          git reflog show --all | grep $SHA7
